% This file is part of Praxisarbeit

% Praxisarbeit is free software: you can redistribute it and/or modify
% it under the terms of the GNU General Public License version 3 as published by
% the Free Software Foundation.

% Praxisarbeit is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
% GNU General Public License for more details.

% You should have received a copy of the GNU General Public License
% along with Foobar.  If not, see <http://www.gnu.org/licenses/>.
\section{maintaining a cluster}
Maintaining a cluster is a completely different story from setting one up.
\paragraph{maintenance}
While doing maintenance, the node should be put into standby mode, so it is not suspect
to fencing action. A fencing action can occur when the maintenance process
takes up too much CPU time for Corosync to work correctly.
When a node is put into standby mode, all resources are moved away from it.
The syntax for pcs is ''pcs cluster standby <node>''. Putting nodes
into production is done using ''pcs cluster unstandby <node>''.
\paragraph{adding a node}
From time to time, a cluster needs to be expanded.
This is done with ''pcs cluster node add <node>''.
Everything besides the pure Corosync conf needs to be moved to the new
node manually. This includes the authkey.
\paragraph{removing a node}
If a node needs to be removed, use ''pcs cluster node remove <node>''.
